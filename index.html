<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover"/>
  <title>Civia</title>
  <link rel="icon" type="image/svg+xml" href="./img/images/civia-icon.svg" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <link rel="stylesheet" href="./css/index.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</head>
<body>
  <div class="container-fluid body">
    <div class="container-fluid header">
      <div class="container-fluid header-item">
        <img class="icon" src="./img/images/civia-icon.svg" alt="">
        <img class="logo" src="./img/images/civia-logo.svg" alt="">
      </div>
    </div>
    <div class="container-fluid section">
      <div class="image-box">
        <img class="image-bg" src="./img/images/background_W.png" alt="">
        <div id="image">
          <canvas id="cvs" width="474" height="474"  />
        </div>
      </div>
      
      <!-- <img id="image" src="./img/pics/pop00000001.png" alt=""> -->
      <div class="desc1">CIVIA the Social Wallet</div>
      <div class="desc2">Opening of the Decentralized Society</div>
    </div>
    <div class="container-fluid section-1">
      <div class="container-md bg">
        <p class="title">Seedless <span>&</span><br/>Social Recovery</p>
        <div class="desc">
          <p class="desc-1">Private keys? Mnemonic phrases? No more!</p>
          <p class="desc-2">Civia social recovery mechanism<br/>guarantees 100% wallet recovery after<br/>you specify a few trusted<br/>friends as guardians, in simple<br/>steps.</p>
        </div>
      </div>
    </div>
    <div class="container-fluid section-2">
      <div class="container-md bg">
        <p class="title">Build your <span>social<br/>reputation</span><br/>with peace of mind</p>
        <div class="desc">
          <p class="desc-1">My private key is leaked, the wallet<br/>address won't be safe. 
            What about my<br/>nontransferable certificates and the<br/>social network I've been trying so hard to<br/>build?</p>
          <p class="desc-2">
            With the 100% social recovery<br/>mechanism, Civia reassign the<br/>controlling private keyof the wallet<br/>
            to your specified new key,so that<br/>you can continue accumulate your<br/>social reputation with peace of<br/>mind.</p>
        </div>
      </div>
      
    </div>
    <div class="container-fluid section-3">
      <div class="container-md bg">
        <p class="title">Wallet Level<br/><span>Social Graph</span></p>
        <div class="desc">
          <p class="desc-1">So, I don't own my social graph? and<br/>my social graph can't be shared<br/>across DApps?</p>
          <p class="desc-2">
            Civia have your social graph in<br/>your wallet, and you can take it<br/>anywhere to any DApps.</p>
        </div>
      </div>
    </div>
    <div class="container-fluid section-4">
      <div class="container-md bg">
        <p class="title">User Defined <span>SBT</span></p>
        <div class="desc">
          <p class="desc-1">Why should anyone write a smart<br/>contract in order to issue SBTs?</p>
          <p class="desc-2">With Civia, anyone can issue SBTs<br/>to anyone else with no code written.</p>
        </div>
      </div>
    </div>
    <div class="container-fluid section-5">
      <div class="container-fluid bg">
        <div class="container-md">
          <p class="title">Ethereum <span>&</span> L2</p>
          <div class="desc">
            <p class="desc-2">NFT and token assets live on Ethereum, while functionalities and fun<br/>actions are on L2. </p>
            <p class="desc-2">Civia provides unified user experience<br/>across Ethereum and L2.</p>
          </div>
          <img class="image" src="./img/images/desc-5.png" alt="">
        </div>
      </div>
    </div>
    <div class="container-fluid section-6">
      <div class="container-fluid bg">
        <p class="title">Wallet As A <span>Service</span></p>
        <img class="image" src="./img/images/desc-6.png" alt="">
        <div class="desc">
          <p class="desc-2">With the flexible multi-key mechanism,users<br/>get smooth surfing experience across<br/>multiple DApps each with their dedicated<br/>keys.  </p>
          <p class="desc-2">No need to switch keys between wallets and<br/>DApps.</p>
        </div>
      </div>
    </div>
    <div class="container-fluid section-footer">
      <div class="left">
        <img class="icon" src="./img/images/civia-icon2.svg" alt="">
        <img class="logo" src="./img/images/civia-logo2.svg" alt="">
      </div>
      <div class="right">
        <div class="list">
          <h1>Contact Us</h1>
          <p>Civia.org</p>
          <p>@CIVIA</p>
        </div>
        <div class="list">
          <h1>Common Problem</h1>
          <p>What is CIVIA?</p>
          <p>What is SCIV?</p>
          <p>How to join CIVIA?</p>
        </div>
        <div class="list">
          <h1>Terms & Agreements</h1>
          <p>Platform User Service Agreement</p>
          <p>Privacy Term</p>
        </div>
      </div>
    </div>
  </div>
</body>
<script src="./js/jquery.min.js"></script>
<script src="./js/index.js"></script>
<script>
  $(function() {
    const urls = (new Array(240).fill(0, 0).map( (item, idx) => `pop00000${idx>98? '': (idx>8? '0': '00')}${idx +1}.png`));

    function mapImages (urls) {
      const imgMaps = new Map();
      let count = 0;
      //
      for(let url of urls){
        imgMaps.set(url, null);
        loadImg(url).then(img => img, () => {
          return loadImg(url);
        }).then(img => {
          imgMaps.set(url, img);
          count ++;
        });
      }
      return imgMaps;
    };

    const imgMaps = mapImages(urls);

    function loadImg(src) {
      console.log('----- src -----', src);
      return fetch(`/img/pics/${src}`).then((res) => res.blob()).then( blob => {
        const img = new Image();
        img.src =  URL.createObjectURL(blob);
        return img;
      });
    };

    function drawImg(imgMaps, index = 0, ctx) {
      const imgArr = Array.from(imgMaps.keys());
      const key = imgArr[index];
      const img = imgMaps.get(key);
      if(img){
        ctx.clearRect(0, 0, 474, 474);
        ctx.drawImage(imgMaps.get(key), 0, 0, 474, 474);
      }
    }

    const ctx = $('#cvs')[0].getContext('2d');
    // console.log('----- ctx -----', ctx);
    let index = 0;
    drawImg(imgMaps, index, ctx);
    setInterval(() => {
      index >= imgMaps.size && (index = 0);
      drawImg(imgMaps, index ++, ctx);
    }, 30);
  })
</script>
</html>